{% extends "cdbb.html" %}
{% load static %}
{% block title %}CDBB Sensor Chart{% endblock %}

{% block head %}
<!-- Our style sheets -->
<link rel="stylesheet" type="text/css" href="{% static 'sensor/css/chart.css' %}" />

<script src="{% static 'js/d3.v6_5.min.js' %}" charset="utf-8"></script>
<script src="{% static 'js/sockjs.min.js' %}" charset="utf-8"></script>
<script src="{% static 'js/jquery.min.js' %}" charset="utf-8"></script>
<script src="{% static 'js/jsonpath.js' %}" charset="utf-8"></script>
<script src="{% static 'js/VizTools2.js' %}" charset="utf-8"></script>

<!-- chart.js defines class SensorChart-->
<script type='text/javascript' src="{% static 'sensor/js/rotas_chart.js' %}"></script>

<!-- Page local script -->
<script type="text/javascript">
  var CRATE_ID='{{ CRATE_ID }}';
</script>
{% endblock %}

{% block header_title %}
Crate data TIME chart
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
    <div class="breadcrumb">
        <a href="{% url 'home' %}">
            <img src="{% static 'images/home_icon.png' %}" />
        </a>
    </div>
    <div class="breadcrumb">
        &gt; <a href="{% url 'sensor_home' %}">Sensors</a>
    </div>

    <div class="breadcrumb">
        &gt; <a href="{% url 'sensor' CRATE_ID %}">{{ CRATE_ID }}</a>
    </div>

    <div class="breadcrumb">
        &gt; Chart <div id="zoom_hint"></div>
    </div>
</div>
{% endblock %}

{% block content %}
<h1>HELLO WORLD</h1>

<div id="popup_message"></div>
<div id="chart" class="chart">
    <div id="loading">
        <img src="{% static 'sensor/images/loader.gif' %}"></img>
    </div>
    <!-- <canvas id="chart_canvas"></canvas> -->
</div><!-- end chart_wrapper -->
<div id="chart_tooltip">
</div>
<!-- div to hold pop-up full reading -->
<div id="reading_popup">
    <div id="reading_close">
        <img src="{% static 'sensor/images/reading_close.png' %}" />
    </div>
    <pre id="reading_content">
    </pre>
</div>
{% endblock %}
<!-- end content -->

<!-- This script will always be placed at bottom of page (by master cdbb.html template) -->
{% block lazy_script %}
<script>
    console.log('lazy_script');
    //var space_floor = new SpaceFloor();
    //space_floor.init();
    init();
</script>
{% endblock %}
<!-- lazy_script -->
